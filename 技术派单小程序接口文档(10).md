## 1 登录

### 1.1身份验证(已完成)

请求类型：Get

测试地址：http://182.43.58.52:9001/dispatch/user/login/?code=xxx

参数列表：

| 参数名称 | 是否必须 | 实例    | 说明                           |
| -------- | -------- | ------- | ------------------------------ |
| code     | 是       | “xxxxx” | 小程序向企业微信请求获取的code |

返回实例：

```json
{
	"errcode":200,
	"errmsg":"请求成功",
	"data":{
		"authorization":"f75d98cb-3266-4fbb-b191-dc55324bd747",
        "showMap": {
            "show_order_accept": 1,
            "show_order_create": 0,
            "show_order_divide": 1
        }
	}
}
```

PS: 往后请求都需要带有token，否则会拒绝访问



### 1.2 后台登录(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/user/login

参数列表：

| 参数名称 | 是否必须 | 实例    | 说明   |
| -------- | -------- | ------- | ------ |
| id       | 是       | 1000001 | 员工id |
| password | 是       | 123456  | 密码   |

返回实例：

```json
{
	"errcode":200,
	"errmsg":"请求成功",
	"data":{
		"authorization":"f75d98cb-3266-4fbb-b191-dc55324bd747",
        "showMap": {
            "show_order_accept": 1,
            "show_order_create": 0,
            "show_order_divide": 1
        }
	}
}
```

PS: 往后请求都需要带有token，否则会拒绝访问





## 2 工单

### 2.1 工单列表(接受)获取(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/order/getAcceptOrderList

参数列表

| 参数名称      | 是否必须 | 实例   | 说明                                       |
| ------------- | -------- | ------ | ------------------------------------------ |
| authorization | 是       | “xxxx“ | 访问权限认证                               |
| status        | 是       | “0”    | 0：未分配，1：未接受，2：进行中，3：已完成 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":[
		{
            "orderId": 1000014,
            "customerId": 1000001,
            "customerName": "阿尔卑斯",
            "department": "行政部",
            "address": "江门蓬江",
            "contactMan": "小云",
            "phone": "12345678910",
            "typeList": null,
            "content": "修理打印机",
            "detail": "打印机损坏需更换零件",
            "leader": "张雪峰",
            "worker": null,
            "taskTime": null,
            "beginTime": null,
            "endTime": null,
            "isOrder":null,
            "status": 3,
            "imgListStr": null,
            "createBy": "张雪峰",
            "createTime": "2023-05-05 15:35:37"
        },
		{
		}
	]
}
```



### 2.2 工单列表(分配)获取(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/order/getDivideOrderList

参数列表

| 参数名称      | 是否必须 | 实例         | 说明                                                         |
| ------------- | -------- | ------------ | ------------------------------------------------------------ |
| authorization | 是       | “xxxx“       | 访问权限认证                                                 |
| customerName  | 否       | "阿尔卑斯"   | 查询客户名称(不填查询全部)                                   |
| beginTime     | 否       | "2023-04-20" | 开始时间                                                     |
| endTime       | 否       | "2023-04-24" | 结束时间                                                     |
| status        | 是       | 0            | -1:全部，0：未分配，1：未接受，2：进行中，3：已完成          |
| type          | 是       | 0            | -1:自定义时间区间,0:全部,1:当天,7:一周内,30:一月内,90:三月,365:一年内 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":[
		{
    		"orderId": 1000049,
            "customerId": 1000001,
            "customerName": "阿尔卑斯",
            "department": "行政部",
            "address": "江门蓬江",
            "contactMan": "小云",
            "phone": "12345678910",
            "content": "2321",
            "detail": "13378",
            "leader": null,
            "worker": null,
            "taskTime": "2023-05-26 13:22:11",
            "beginTime": null,
            "endTime": null,
            "status": 0,
            "isOrder":null
            "imgListStr": null,
            "createBy": "张雪峰",
            "createTime": "2023-05-13 13:22:27"
		},
		{
		}
	]
}
```



### 2.3 工单详情(暂无用)

请求类型：Get

测试地址：http://182.43.58.52:9001/dispatch/order/detail

| 参数名称      | 是否必须 | 实例    | 说明         |
| ------------- | -------- | ------- | ------------ |
| authorization | 是       | “xxxx“  | 访问权限认证 |
| orderId       | 是       | 1000001 | 工单id       |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":{
    	"orderId": 1000001,
    	"customerId": 1000001,
   		"typeList": "1,2,3,4",
    	"content": null,
    	"detail": null,
    	"createId": 123,
    	"createBy": "张三",
    	"leaderId": null,
    	"leader": null,
    	"workerId": null,
    	"worker": null,
    	"createTime": "2023-04-24 11:30:27",
    	"beginTime": null,
    	"endTime": null,
    	"finishTime": null,
    	"status": 0,
    	"imgListStr": null
	}
}
```



### 2.4 工单创建(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/order/add

参数列表

| 参数名称      | 是否必须 | 实例                | 说明         |
| ------------- | -------- | ------------------- | ------------ |
| authorization | 是       | “xxxx“              | 访问权限认证 |
| customerId    | 是       | 1000001             | 客户id       |
| content       | 是       | "xxx"               | 工单内容     |
| detail        | 否       | "xxx"               | 工单备注     |
| taskTime      | 否       | 2023-05-26 15:35:37 | 工单任务时间 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":
}
```



### 2.5 工单接受(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/order/accept/{orderId}/{type}

参数列表

| 参数名称      | 是否必须 | 实例    | 说明                  |
| ------------- | -------- | ------- | --------------------- |
| authorization | 是       | “xxxx“  | 访问权限认证          |
| orderId       | 是       | 1000001 | 工单id                |
| type          | 是       | 0       | 拒绝状态0:拒绝,1:接受 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已接受",
	"data":
}
{
	"errcode":200,
	"errmsg":"已拒绝",
	"data":
}
```



### 2.6 工单分配(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/order/divide/{orderId}/{employeeId}

参数列表

| 参数名称      | 是否必须 | 实例    | 说明         |
| ------------- | -------- | ------- | ------------ |
| authorization | 是       | “xxxx“  | 访问权限认证 |
| orderId       | 是       | 1000001 | 工单id       |
| employeeId    | 是       | 1000001 | 被分配员工id |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已分配",
	"data":
}
```



### 2.7 工单提交(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/order/submit

参数列表

| 参数名称      | 是否必须 | 实例                | 说明                   |
| ------------- | -------- | ------------------- | ---------------------- |
| authorization | 是       | “xxxx“              | 访问权限认证           |
| orderId       | 是       | 1000001             | 工单id                 |
| detail        | 否       | "xxx"               | 工单备注               |
| beginTime     | 是       | 2023-05-26 15:35:37 | 开始进行工单时间       |
| endTime       | 否       | 2023-05-26 15:35:37 | 结束工单时间           |
| isOrder       | 否       | 0                   | 是否有单,0:无单,1:有单 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已提交",
	"data":
}
```



### 2.8 工单完成(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/order/complete/{orderId}

参数列表

| 参数名称      | 是否必须 | 实例    | 说明         |
| ------------- | -------- | ------- | ------------ |
| authorization | 是       | “xxxx“  | 访问权限认证 |
| orderId       | 是       | 1000001 | 工单id       |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已完成",
	"data":
}
```



### 2.9 工单修改(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/order/update

参数列表

| 参数名称      | 是否必须 | 实例                | 说明                   |
| ------------- | -------- | ------------------- | ---------------------- |
| authorization | 是       | “xxxx“              | 访问权限认证           |
| orderId       | 是       | 1000001             | 维修单id               |
| customerId    | 否       | 1000001             | 维修单归属客户id       |
| content       | 否       | "xxx"               | 工单内容               |
| detail        | 否       | "xxx"               | 工单备注               |
| taskTime      | 否       | 2023-05-26 15:35:37 | 工单任务时间           |
| isOrder       | 否       | 0                   | 是否有单,0:无单,1:有单 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"修改成功",
	"data":
}
```



### 2.10 工单删除(已完成)

请求类型：Delete

测试地址：http://182.43.58.52:9001/dispatch/order/remove

参数列表

| 参数名称            | 是否必须 | 实例    | 说明         |
| ------------------- | -------- | ------- | ------------ |
| authorization       | 是       | “xxxx“  | 访问权限认证 |
| orderId(请求体参数) | 是       | 1000001 | 工单id       |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已删除",
	"data":
}
```



## 3 客户

### 3.1 客户列表获取(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/customer/getCustomerList

参数列表

| 参数名称      | 是否必须 | 实例   | 说明             |
| ------------- | -------- | ------ | ---------------- |
| authorization | 是       | “xxxx“ | 访问权限认证     |
| customerName  | 否       | "卑斯" | 客户名称(搜索用) |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":[
    {
        "customerId": 1000001,
        "customerName": "阿尔卑斯",
        "department": "行政部",
        "address": "江门蓬江",
        "contractMan": "赵六",
        "phone": "12345678910",
        "createBy": "longsheng",
        "createTime": "2023-04-21",
        "updateBy": "longsheng",
        "updateTime": "2023-04-21"
    },
    {
        "customerId": 1000002,
        "customerName": "阿尔卑斯",
        "department": "行政部",
        "address": "江门蓬江",
        "contractMan": "赵六",
        "phone": "12345678910",
        "createBy": "longsheng",
        "createTime": "2023-04-21",
        "updateBy": "longsheng",
        "updateTime": "2023-04-21"
    }
]
}
```



### 3.2 客户创建(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/customer/add

参数列表

| 参数名称      | 是否必须 | 实例                                   | 说明         |
| ------------- | -------- | -------------------------------------- | ------------ |
| authorization | 是       | “f75d98cb-3266-4fbb-b191-dc55324bd747“ | 访问权限认证 |
| customerName  | 是       | "阿尔卑斯"                             | 客户名称     |
| address       | 是       | "江门蓬江"                             | 地址         |
| department    | 否       | "市场部"                               | 部门         |
| contactMan    | 否       | "坤坤"                                 | 联系人       |
| phone         | 否       | "13712345678"                          | 联系电话     |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":{
        "customerId": 1000032,
        "customerName": "金莱特",
        "department": "行政部",
        "address": "江门蓬江",
        "contactMan": "小云",
        "phone": "12345678910",
        "createBy": "张雪峰",
        "createTime": "2023-05-10 10:40:18",
        "updateBy": "张雪峰",
        "updateTime": "2023-05-10 10:40:18"
    }
}
```



### 3.3 客户修改(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/customer/update

参数列表

| 参数名称      | 是否必须 | 实例          | 说明         |
| ------------- | -------- | ------------- | ------------ |
| authorization | 是       | “xxxx“        | 访问权限认证 |
| customerId    | 是       | 1000001       | 客户id       |
| customerName  | 否       | "阿尔卑斯"    | 客户名称     |
| department    | 否       | "研发部"      | 部门         |
| address       | 否       | "江门蓬江"    | 地址         |
| contactMan    | 否       | "坤坤"        | 联系人       |
| phone         | 否       | "13712345678" | 电话         |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":
}
```



### 3.4 客户删除(已完成)

请求类型：Delete

测试地址：http://182.43.58.52:9001/dispatch/customer/remove

参数列表

| 参数名称               | 是否必须 | 实例    | 说明         |
| ---------------------- | -------- | ------- | ------------ |
| authorization          | 是       | “xxxx“  | 访问权限认证 |
| customerId(请求体参数) | 是       | 1000002 | 客户id       |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已删除",
	"data":
}
```



## 4 员工

### 4.1 员工列表获取

请求类型：Get

测试地址：http://182.43.58.52:9001/dispatch/user/getUserList

参数列表

| 参数名称      | 是否必须 | 实例   | 说明         |
| ------------- | -------- | ------ | ------------ |
| authorization | 是       | “xxxx“ | 访问权限认证 |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":[
    		{
            "id": 1000001,
            "userId": null,
            "name": "龙生",
            "phone": null,
            "password": "123456",
            "department": "研发部",
            "position": "研发专员"
        },
        {
            "id": 1000002,
            "userId": null,
            "name": "卓楷",
            "phone": null,
            "password": "123456",
            "department": "研发部",
            "position": "研发专员"
        },
        {
            "id": 1000003,
            "userId": null,
            "name": "惠泽",
            "phone": null,
            "password": "123456",
            "department": "研发部",
            "position": "研发后端专员"
        }
		]
}
```



## 5 维修记录单

### 5.1 维修单列表获取(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/repair/getRepairList

参数列表

| 参数名称      | 是否必须 | 实例                | 说明                         |
| ------------- | -------- | ------------------- | ---------------------------- |
| authorization | 是       | “xxxx“              | 访问权限认证                 |
| customerName  | 否       | "马达"              | 客户名称(搜索用)             |
| status        | 是       | 0                   | 维修单状态,0:未送回,1:已送回 |
| maxTime       | 否       | 2023-05-26 15:35:37 | 时间区间最大值               |
| minTime       | 否       | 2023-05-26 15:35:37 | 时间区间最小值               |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"请求成功",
	"data":[
    		{
            "repairId": 1000001,
            "customerId": 1000003,
            "customerName": "金马达",
            "equipment": "电脑",
            "damage": "主板损坏",
            "task": "更换主板零件",
            "takeTime": "2023-05-09 15:06:30",
            "backTime": "2023-05-10 15:14:03",
            "status": 0,
            "createBy": "张雪峰",
            "updateBy": "张雪峰",
            "createTime": "2023-05-09 15:06:46",
            "updateTime": "2023-05-09 15:06:55",
            "department": "市场部",
            "address": "江门新会",
            "contactMan": "小马",
            "phone": "13712354567"
        }
		]
}
```



### 5.2 维修单创建(已完成)

请求类型：Post

测试地址：http://182.43.58.52:9001/dispatch/repair/add

参数列表

| 参数名称      | 是否必须 | 实例                     | 说明             |
| ------------- | -------- | ------------------------ | ---------------- |
| authorization | 是       | “xxxx“                   | 访问权限认证     |
| customerId    | 是       | 1000001                  | 维修单归属客户id |
| equipment     | 否       | "联想小新16pro plus max" | 设备信息         |
| damage        | 否       | "硬盘损坏"               | 故障情况         |
| task          | 否       | "更换硬盘"               | 处理事项         |
| detail        | 否       | "xxx"                    | 备注             |
| takeTime      | 否       | 2023-05-26 15:35:37      | 带走时间         |
| backTime      | 否       | 2023-05-26 15:35:37      | 送回时间         |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已添加",
	"data":
}
```



### 5.3 维修单完成(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/repair/complete

参数列表

| 参数名称      | 是否必须 | 实例    | 说明         |
| ------------- | -------- | ------- | ------------ |
| authorization | 是       | “xxxx“  | 访问权限认证 |
| repairId      | 是       | 1000001 | 维修单id     |

ps：放请求体

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已完成",
	"data":
}
```



### 5.4 维修单修改(已完成)

请求类型：Put

测试地址：http://182.43.58.52:9001/dispatch/repair/update

参数列表

| 参数名称      | 是否必须 | 实例                     | 说明             |
| ------------- | -------- | ------------------------ | ---------------- |
| authorization | 是       | “xxxx“                   | 访问权限认证     |
| repairId      | 是       | 1000001                  | 维修单id         |
| customerId    | 是       | 1000005                  | 维修单归属客户id |
| equipment     | 否       | "联想小新16pro plus max" | 设备信息         |
| damage        | 否       | "硬盘损坏"               | 故障情况         |
| task          | 否       | "修理硬盘"               | 处理事项         |
| detail        | 否       | "xxx"                    | 备注             |
| backTime      | 否       | 2023-05-26 15:35:37      | 送回时间         |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已修改",
	"data":
}
```



### 5.5 维修单删除(已完成)

请求类型：Delete

测试地址：http://182.43.58.52:9001/dispatch/repair/remove

参数列表

| 参数名称      | 是否必须 | 实例    | 说明         |
| ------------- | -------- | ------- | ------------ |
| authorization | 是       | “xxxx“  | 访问权限认证 |
| repairId      | 是       | 1000001 | 维修单id     |

返回实例

```json
{	
	"errcode":200,
	"errmsg":"已删除",
	"data":
}
```



## 6 商机

### 6.1 商机列表获取

### 6.2 商机创建

### 6.3 商机跟进

### 6.4 商机丢弃

### 6.5 商机转化





## 7 项目

### 7.1 项目列表获取

### 7.2 项目创建

### 7.3 项目修改

### 7.4 项目完成

